<div class="problem-meta section">
  <input class="input inconspicuous large" placeholder="Untitled problem" ng-model="problem.name" />
  <button class="button ui default" ng-click="removeProblem()">Remove problem</button>
</div>

<div ui-view>
  <div class="problem-runs section">
    <div class="section-header">
      <h2>Run summary</h2>
      <button class="button ui default" ng-click="addRun()">Add run</button>
    </div>

    <div class="section-empty" ng-if="!problem.runs.length">
      No runs yet!
    </div>

    <ul>
      <li ng-repeat="(index, run) in problem.runs">
        <a ui-sref="problem.run({ run: index })">{{ index }}</a>
        <a ng-click="removeRun(index)">Remove</a>
      </li>
    </ul>
  </div>

  <div class="problem-tests section">
    <div class="section-header">
      <h2>Test cases</h2>
    </div>

    <label>
      <input type="checkbox" ng-model="problem.maximize" />
      Maximize fitness
    </label>

    <button ng-click="addVariable()">Add variable</button>
    <button ng-click="addTest()">Add test case</button>

    <table>
      <thead>
        <tr>
          <th ng-repeat="variable in problem.variables">
            <input type="text" ng-model="variable.name" />
            <button type="button" ng-click="removeVariable($index)">Remove</button>
            <variable-type ng-model="variable.type"></variable-type>
          </th>

          <th>
            <div>Expected output</div>
            <variable-type ng-model="problem.type"></variable-type>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr ng-repeat="test in problem.tests">
          <th ng-repeat="variable in problem.variables">
            <input type="{{ variable.type }}" ng-model="test.inputs[$index]" />
          </th>

          <th>
            <input type="{{ problem.type }}" ng-model="test.output" />
          </th>
        </tr>
      </tbody>
    </table>
  </div>
</div>
